const commandEl=document.getElementById("command"),vimEditor=document.getElementById("vim-editor"),lineNumbers=document.getElementById("line-numbers"),editorContent=document.getElementById("editor-content"),cursor=document.getElementById("cursor"),vimMode=document.getElementById("vim-mode"),cursorPosition=document.getElementById("cursor-position"),profileContent=`PROFESSIONAL PROFILE
Senior IT Engineer with a proven track record of developing high-performance 
enterprise applications and driving technical innovation across industries.

LEADERSHIP
Successfully led diverse, multi-cultural engineering teams through complete 
development lifecycles of next-generation software solutions—from initial 
requirement gathering and architectural design to implementation, testing, 
and deployment.

BUSINESS ACUMEN
Regularly contributes to client proposals and presentations, excelling at 
synthesizing business requirements and user needs into high-quality, 
cost-effective design solutions while adhering to budgetary constraints.

EXPERIENCE & EDUCATION
• 15+ years of professional experience in the IT industry
• University degree in Information Technology 
• Bachelor's degree in Economics

CONTACT
igor@krajisnik.no`,contentLines=profileContent.split("\n"),TYPING_DELAY=15,COMMAND_DELAY=30;let commandTyped=!1,typing=!1,currentLine=0,currentChar=0,displayContent=[];function addLineNumber(e){const t=document.createElement("div");t.textContent=e,t.style.height=getComputedStyle(editorContent).lineHeight,lineNumbers.appendChild(t)}function updateDisplay(){let e="";for(let t=0;t<displayContent.length;t++){let n=displayContent[t];n.startsWith("PROFESSIONAL PROFILE")||n.startsWith("LEADERSHIP")||n.startsWith("BUSINESS ACUMEN")||n.startsWith("EXPERIENCE & EDUCATION")||n.startsWith("CONTACT")?n=`<span class="section-header">${n}</span>`:n.includes("igor@krajisnik.no")&&(n=n.replace("igor@krajisnik.no",'<a href="mailto:igor@krajisnik.no" class="contact-info">igor@krajisnik.no</a>')),e+=`<div>${n}</div>`}editorContent.innerHTML=e,updateLineNumbers()}function updateLineNumbers(){lineNumbers.innerHTML="";const e=editorContent.querySelectorAll("div");let t=1;e.forEach(e=>{const n=parseInt(getComputedStyle(e).lineHeight),i=e.offsetHeight,r=Math.max(1,Math.ceil(i/n));for(let e=0;e<r;e++)addLineNumber(t++)})}function setCursorPosition(){const e=editorContent.querySelectorAll("div");if(currentLine>=e.length)return;const t=e[currentLine],n=t.getBoundingClientRect(),i=editorContent.getBoundingClientRect();let r=1;for(let t=0;t<currentLine;t++){const n=parseInt(getComputedStyle(e[t]).lineHeight),i=e[t].offsetHeight;r+=Math.max(1,Math.ceil(i/n))}const o=parseInt(getComputedStyle(t).lineHeight),s=Math.floor(currentChar*parseFloat(getComputedStyle(t).fontSize)/t.offsetWidth);r+=s;let l=n.top-i.top;l+=s*o;const a=document.createElement("span");a.style.visibility="hidden",a.style.position="absolute",a.style.whiteSpace="pre";const c=displayContent[currentLine]||"";a.textContent=c.substring(0,currentChar),t.appendChild(a);let d;d=currentChar>0?a.getBoundingClientRect().width%t.offsetWidth+10:10,cursor.style.top=`${l}px`,cursor.style.left=`${d}px`,t.removeChild(a),cursorPosition.textContent=`${r},${currentChar%(Math.floor(t.offsetWidth/parseFloat(getComputedStyle(t).fontSize)))}`}function typeCommand(){const e="vim about.txt";let t=0;!function n(){t<e.length?(commandEl.textContent+=e[t],t++,setTimeout(n,COMMAND_DELAY)):(commandTyped=!0,setTimeout(startVim,700))}()}function startVim(){vimEditor.style.display="flex",vimMode.textContent="INSERT",vimMode.style.color="#98c379",displayContent.push(""),addLineNumber(1),updateDisplay(),typing=!0,typeContent()}function typeContent(){if(currentLine>=contentLines.length)return typing=!1,vimMode.textContent="NORMAL",void(vimMode.style.color="#61afef");const e=contentLines[currentLine];if(currentChar>=e.length)return currentLine++,currentChar=0,currentLine<contentLines.length&&(displayContent.push(""),addLineNumber(currentLine+1),updateDisplay(),setCursorPosition()),void setTimeout(typeContent,TYPING_DELAY);displayContent[currentLine]+=e[currentChar],currentChar++,updateDisplay(),setCursorPosition(),setTimeout(typeContent,TYPING_DELAY)}window.addEventListener("resize",()=>{typing&&updateLineNumbers()}),window.onload=function(){setTimeout(typeCommand,600)};